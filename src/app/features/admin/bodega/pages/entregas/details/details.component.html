<div class="div_container">
  <div class="div_card">
    <div class="panel_1">
      <div class="card_form">
        
        <!-- CABECERA -->
        <div class="header_actions">
          <div class="header_title">
            <h2>Detalle de la Entrega #{{ idEntrega }}</h2>
          </div>
          <div class="header_buttons">
            <ui-button [icon]="'refresh'" (evntClick)="loadEntrega()"/>
            <ui-button [label]="'Volver'" [icon]="'arrow_back'" (evntClick)="volver()"/>
          </div>
        </div>

        <!-- PERFIL DE LA ENTREGA -->
        <div class="entrega_perfil">
          <div class="avatar">
            <span class="material-icons">local_shipping</span>
          </div>
          <div class="entrega_info_principal">
            <h3>Entrega #{{ entrega?.ideEntr }}</h3>
            <p class="pedido"><span class="material-icons">receipt_long</span> Pedido #{{ entrega?.idePedi }}</p>
            <p class="proveedor"><span class="material-icons">person</span> {{ entrega?.nombreProveedor }}</p>
          </div>
          <div class="estado_badge" [class.completo]="entrega?.estadoEntr === 'completo'" [class.incompleto]="entrega?.estadoEntr !== 'completo'">
            {{ entrega?.estadoEntr }}
          </div>
        </div>

        <!-- INFORMACIÓN DE LA ENTREGA -->
        <div class="section_title">Información de la Entrega</div>
        <div class="info_grid">
          <div class="info_row">
            <ui-text-field [label]="'ID Entrega'" [value]="entrega?.ideEntr" [disabled]="true"/>
            <ui-text-field [label]="'ID Pedido'" [value]="entrega?.idePedi" [disabled]="true"/>
          </div>
          <div class="info_row">
            <ui-text-field [label]="'Proveedor'" [value]="entrega?.nombreProveedor" [disabled]="true"/>
            <ui-text-field [label]="'Fecha de Entrega'" [value]="formatDate(entrega?.fechaEntr || '')" [disabled]="true"/>
          </div>
          <div class="info_row">
            <ui-text-field [label]="'Cantidad Total'" [value]="entrega?.cantidadTotalEntr" [disabled]="true"/>
            <ui-text-field [label]="'Estado'" [value]="entrega?.estadoEntr" [disabled]="true"/>
          </div>
        </div>

        <!-- TOTALES -->
        <div class="section_title">Totales</div>
        <div class="totales_card">
          <div class="total_item">
            <div class="total_icon">
              <span class="material-icons">shopping_cart</span>
            </div>
            <div class="total_info">
              <span class="total_label">Cantidad Total</span>
              <span class="total_value">{{ entrega?.cantidadTotalEntr }} items</span>
            </div>
          </div>
          <div class="total_item principal">
            <div class="total_icon">
              <span class="material-icons">payments</span>
            </div>
            <div class="total_info">
              <span class="total_label">Total de la Entrega</span>
              <span class="total_value">{{ formatCurrency(entrega?.totalEntr || 0) }}</span>
            </div>
          </div>
        </div>

        <!-- OBSERVACIÓN -->
        <div class="section_title">Observación</div>
        <div class="observacion_card">
          <p>{{ entrega?.observacionEntr || 'Sin observaciones' }}</p>
        </div>

      </div>
    </div>
  </div>
</div>
